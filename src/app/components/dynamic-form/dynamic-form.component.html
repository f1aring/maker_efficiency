
<div class="container">
  <form [formGroup]="myForm" (ngSubmit)="onSubmit()">
    <!-- Steps -->
    <div *ngIf="array_number.length !== 0">
      
      <div *ngFor="let number of array_number">
        <div *ngIf="currentStep === number" >
            <div *ngFor="let controlName of controlNames[number - 1]" class="card">
              <label [for]="controlName">{{ controlName | titlecase }}:</label><br>
              <div class="wrapper">
                 <input type="text" [formControlName]="controlName" class="input-field" (focus)="logInputName(controlName)">
              <button nz-button nzType="primary" [nzSize]="size" nzShape="circle" (click)="addCross($event, controlName)" class="cross">X</button><br>
              </div>
              <!-- <input type="text" [formControlName]="controlName" class="input-field">
              <button nz-button nzType="primary" [nzSize]="size" nzShape="circle" (click)="addCross($event, controlName)" class="cross">X</button><br> -->
              <button nz-button nzType="primary" (click)="showModal1()" class="button">
                <span>Comment</span>
              </button>
              <br />
              <br />
        
              <nz-modal [(nzVisible)]="isVisible" nzTitle="Custom Modal Title" (nzOnCancel)="handleCancel()">
                <div *nzModalContent>
                  <ul>
                    <li><label><input type="checkbox" value="Spelling error"> Spelling error</label></li>
                    <li><label><input type="checkbox" value="LGBTQ ALERT!"> LGBTQ ALERT!</label></li>
                    <li><label><input type="checkbox" value="Noob"> Noob</label></li>
                    <li><input type="text" formControlName="textInput"></li> <!-- Bind to form control -->
                  </ul>
                </div>
                <div *nzModalFooter>
                  <button nz-button nzType="default" (click)="submitModalValues($event, controlName)">Submit</button>
                </div>
              </nz-modal>
              
            </div>
            <div *ngIf="currentStep < array_number.length ">
              <!-- <button nz-button nzType="primary" class="submit-button"  (click)="goToStep(number + 1)">Next</button> -->
              <button nz-button nzType="primary" class="submit-button" (click)="goToStep(number + 1); logValuesAndComments(controlName)">Next</button>


            </div>
            <div *ngIf="currentStep === array_number.length ">
                <button type="submit" nz-button nzType="primary" class="submit-button" [disabled]="!myForm.valid">Submit</button>
            </div>
          
          </div>
    </div>

    </div>
    
  </form>
</div>

  